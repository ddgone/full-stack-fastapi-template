# å…¨æ ˆ FastAPI æ¨¡æ¿

<a href="https://github.com/fastapi/full-stack-fastapi-template/actions?query=workflow%3ATest" target="_blank"><img src="https://github.com/fastapi/full-stack-fastapi-template/workflows/Test/badge.svg" alt="æµ‹è¯•"></a>
<a href="https://coverage-badge.samuelcolvin.workers.dev/redirect/fastapi/full-stack-fastapi-template" target="_blank"><img src="https://coverage-badge.samuelcolvin.workers.dev/fastapi/full-stack-fastapi-template.svg" alt="è¦†ç›–ç‡"></a>

## æŠ€æœ¯æ ˆä¸ç‰¹æ€§

- âš¡ [**FastAPI**](https://fastapi.tiangolo.com) ç”¨äº Python åç«¯ APIã€‚
    - ğŸ§° [SQLModel](https://sqlmodel.tiangolo.com) ç”¨äº Python SQL æ•°æ®åº“äº¤äº’ï¼ˆORMï¼‰ã€‚
    - ğŸ” [Pydantic](https://docs.pydantic.dev) ç”¨äºæ•°æ®éªŒè¯å’Œé…ç½®ç®¡ç†ï¼ˆç”± FastAPI è°ƒç”¨ï¼‰ã€‚
    - ğŸ’¾ [PostgreSQL](https://www.postgresql.org) ä½œä¸º SQL æ•°æ®åº“ã€‚
- ğŸš€ [React](https://react.dev) ç”¨äºå‰ç«¯å¼€å‘ã€‚
    - ğŸ’ƒ é‡‡ç”¨ TypeScriptã€é’©å­ã€Vite ç­‰ç°ä»£å‰ç«¯æŠ€æœ¯æ ˆç»„ä»¶ã€‚
    - ğŸ¨ [Chakra UI](https://chakra-ui.com) æä¾›å‰ç«¯ç»„ä»¶åº“ã€‚
    - ğŸ¤– è‡ªåŠ¨ç”Ÿæˆå‰ç«¯å®¢æˆ·ç«¯ã€‚
    - ğŸ§ª [Playwright](https://playwright.dev) ç”¨äºç«¯åˆ°ç«¯æµ‹è¯•ã€‚
    - ğŸ¦‡ æ”¯æŒæ·±è‰²æ¨¡å¼ã€‚
- ğŸ‹ [Docker Compose](https://www.docker.com) ç”¨äºå¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒã€‚
- ğŸ”’ é»˜è®¤é‡‡ç”¨å®‰å…¨å¯†ç å“ˆå¸Œç®—æ³•ã€‚
- ğŸ”‘ JWTï¼ˆJSONç½‘ç»œä»¤ç‰Œï¼‰è®¤è¯æœºåˆ¶ã€‚
- ğŸ“« åŸºäºé‚®ä»¶çš„å¯†ç é‡ç½®åŠŸèƒ½ã€‚
- âœ… é€šè¿‡[Pytest](https://pytest.org)è¿›è¡Œæµ‹è¯•ã€‚
- ğŸ“ ä½¿ç”¨[Traefik](https://traefik.io)ä½œä¸ºåå‘ä»£ç†/è´Ÿè½½å‡è¡¡å™¨ã€‚
- ğŸš¢ åŸºäºDocker Composeçš„éƒ¨ç½²æŒ‡å—ï¼ŒåŒ…å«é…ç½®å‰ç«¯Traefikä»£ç†ä»¥è‡ªåŠ¨å¤„ç†HTTPSè¯ä¹¦çš„æ­¥éª¤ã€‚
- ğŸ­ åŸºäºGitHub Actionsçš„æŒç»­é›†æˆ(CI)ä¸æŒç»­éƒ¨ç½²(CD)ã€‚

### ä»ªè¡¨ç›˜ç™»å½•

[![API æ–‡æ¡£](img/login.png)](https://github.com/fastapi/full-stack-fastapi-template)

### ä»ªè¡¨ç›˜ - ç®¡ç†å‘˜

[![API æ–‡æ¡£](img/dashboard.png)](https://github.com/fastapi/full-stack-fastapi-template)

### ä»ªè¡¨ç›˜ - åˆ›å»ºç”¨æˆ·

[![API æ–‡æ¡£](img/dashboard-create.png)](https://github.com/fastapi/full-stack-fastapi-template)

### ä»ªè¡¨ç›˜ - é¡¹ç›®

[![API æ–‡æ¡£](img/dashboard-items.png)](https://github.com/fastapi/full-stack-fastapi-template)

### ä»ªè¡¨ç›˜ - ç”¨æˆ·è®¾ç½®

[![API æ–‡æ¡£](img/dashboard-user-settings.png)](https://github.com/fastapi/full-stack-fastapi-template)

### ä»ªè¡¨ç›˜ - æ·±è‰²æ¨¡å¼

[![API æ–‡æ¡£](img/dashboard-dark.png)](https://github.com/fastapi/full-stack-fastapi-template)

### äº’åŠ¨å¼APIæ–‡æ¡£

[![APIæ–‡æ¡£](img/docs.png)](https://github.com/fastapi/full-stack-fastapi-template)

## ä½¿ç”¨æŒ‡å—

æ‚¨åªéœ€**ç›´æ¥åˆ†å‰æˆ–å…‹éš†**æ­¤ä»“åº“å³å¯ç›´æ¥ä½¿ç”¨ã€‚

âœ¨ å³å¼€å³ç”¨ âœ¨

### ç§æœ‰ä»“åº“ä½¿ç”¨æ–¹æ³•

è‹¥éœ€ä½¿ç”¨ç§æœ‰ä»“åº“ï¼ŒGitHubä¸å…è®¸ç›´æ¥åˆ†å‰ï¼ˆå› å…¶ä¸æ”¯æŒä¿®æ”¹åˆ†å‰å¯è§æ€§ï¼‰ã€‚

ä½†å¯é‡‡å–ä»¥ä¸‹æ“ä½œï¼š

- åˆ›å»ºæ–°GitHubä»“åº“ï¼Œä¾‹å¦‚`my-full-stack`ã€‚
- æ‰‹åŠ¨å…‹éš†æœ¬ä»“åº“ï¼Œå¹¶å°†å…¶åç§°è®¾ç½®ä¸ºç›®æ ‡é¡¹ç›®åï¼ˆå¦‚`my-full-stack`ï¼‰ï¼š

```bash
git clone git@github.com:fastapi/full-stack-fastapi-template.git my-full-stack
```

- è¿›å…¥æ–°ç›®å½•ï¼š

```bash
cd my-full-stack
```

- å°†æ–°ä»“åº“è®¾ä¸ºè¿œç¨‹ä»“åº“ï¼Œä» GitHub ç•Œé¢å¤åˆ¶åœ°å€ï¼Œä¾‹å¦‚ï¼š

```bash
git remote set-url origin git@github.com:octocat/my-full-stack.git
```

- å°†æ­¤ä»“åº“æ·»åŠ ä¸ºå¦ä¸€ä¸ªâ€œè¿œç¨‹ä»“åº“â€ä»¥ä¾¿åç»­è·å–æ›´æ–°ï¼š

```bash
git remote add upstream git@github.com:fastapi/full-stack-fastapi-template.git
```

- å°†ä»£ç æ¨é€åˆ°æ–°ä»“åº“ï¼š

```bash
git push -u origin master
```

### ä»åŸå§‹æ¨¡æ¿æ›´æ–°

å…‹éš†ä»“åº“å¹¶è¿›è¡Œä¿®æ”¹åï¼Œæ‚¨å¯èƒ½éœ€è¦è·å–åŸå§‹æ¨¡æ¿çš„æœ€æ–°å˜æ›´ã€‚

- ç¡®ä¿å·²å°†åŸå§‹ä»“åº“æ·»åŠ ä¸ºè¿œç¨‹ä»“åº“ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š

```bash
git remote -v

origin    git@github.com:octocat/my-full-stack.git (fetch)
origin    git@github.com:octocat/my-full-stack.git (push)
upstream    git@github.com:fastapi/full-stack-fastapi-template.git (fetch)
upstream    git@github.com:fastapi/full-stack-fastapi-template.git (push)
```

- æå–æœ€æ–°å˜æ›´è€Œä¸åˆå¹¶ï¼š

```bash
git pull --no-commit upstream master
```

è¿™å°†ä»æ¨¡æ¿ä¸­ä¸‹è½½æœ€æ–°å˜æ›´è€Œä¸æäº¤ï¼Œä»¥ä¾¿æ‚¨åœ¨æäº¤å‰æ£€æŸ¥æ‰€æœ‰å†…å®¹æ˜¯å¦æ­£ç¡®ã€‚

- è‹¥å­˜åœ¨å†²çªï¼Œè¯·åœ¨ç¼–è¾‘å™¨ä¸­è§£å†³ã€‚

- å®Œæˆåæäº¤å˜æ›´ï¼š

```bash
git merge --continue
```

### é…ç½®

éšåå¯é€šè¿‡ä¿®æ”¹`.env`æ–‡ä»¶ä¸­çš„é…ç½®é¡¹è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚

éƒ¨ç½²å‰è¯·åŠ¡å¿…ä¿®æ”¹ä»¥ä¸‹å…³é”®å€¼ï¼š

- `SECRET_KEY`
- `FIRST_SUPERUSER_PASSWORD`
- `POSTGRES_PASSWORD`

å»ºè®®é€šè¿‡å¯†é’¥åº“ä»¥ç¯å¢ƒå˜é‡å½¢å¼ä¼ é€’è¿™äº›å€¼ã€‚

æ›´å¤šç»†èŠ‚è¯·å‚é˜…[deployment.md](./deployment.md)æ–‡æ¡£ã€‚

### ç”Ÿæˆå¯†é’¥

`.env`æ–‡ä»¶ä¸­éƒ¨åˆ†ç¯å¢ƒå˜é‡é»˜è®¤å€¼ä¸º`changethis`ã€‚

æ‚¨å¿…é¡»ç”¨å¯†é’¥æ›¿æ¢è¿™äº›é»˜è®¤å€¼ã€‚ç”Ÿæˆå¯†é’¥æ—¶å¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
python -c â€œimport secrets; print(secrets.token_urlsafe(32))â€
```

å¤åˆ¶ç”Ÿæˆçš„å†…å®¹ä½œä¸ºå¯†ç /å¯†é’¥ä½¿ç”¨ã€‚å†æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤å¯ç”Ÿæˆæ–°çš„å®‰å…¨å¯†é’¥ã€‚

## ä½¿ç”¨æŒ‡å— - Copieræ›¿ä»£æ–¹æ¡ˆ

æœ¬ä»“åº“äº¦æ”¯æŒé€šè¿‡[Copier](https://copier.readthedocs.io)åˆ›å»ºæ–°é¡¹ç›®ã€‚

è¯¥å·¥å…·å°†å¤åˆ¶æ‰€æœ‰æ–‡ä»¶ï¼Œå¼•å¯¼æ‚¨å®Œæˆé…ç½®é—®ç­”ï¼Œå¹¶æ ¹æ®å›ç­”æ›´æ–°`.env`æ–‡ä»¶ã€‚

### å®‰è£…Copier

å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
pip install copier
```

è‹¥å·²å®‰è£…[`pipx`](https://pipx.pypa.io/)ï¼Œæ›´æ¨èä½¿ç”¨ï¼š

```bash
pipx install copier
```

**æ³¨æ„**ï¼šè‹¥å·²å®‰è£…`pipx`ï¼Œå¯è·³è¿‡copierå®‰è£…æ­¥éª¤ç›´æ¥è¿è¡Œã€‚

### ä½¿ç”¨Copierç”Ÿæˆé¡¹ç›®

è¯·ä¸ºæ–°é¡¹ç›®ç›®å½•å‘½åï¼ˆåç»­æ“ä½œå°†ä½¿ç”¨è¯¥åç§°ï¼‰ï¼Œä¾‹å¦‚`my-awesome-project`ã€‚

è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¹¶æ›¿æ¢é¡¹ç›®åï¼š

```bash
copier copy https://github.com/fastapi/full-stack-fastapi-template my-awesome-project --trust
```

è‹¥å·²å®‰è£… `pipx` ä½†æœªå®‰è£… `copier`ï¼Œå¯ç›´æ¥è¿è¡Œï¼š

```bash
pipx run copier copy https://github.com/fastapi/full-stack-fastapi-template my-awesome-project --trust
```

**æ³¨æ„**ï¼šå¿…é¡»ä½¿ç”¨ `--trust` é€‰é¡¹æ‰èƒ½æ‰§è¡Œ [åˆ›å»ºåè„šæœ¬](https://github.com/fastapi/full-stack-fastapi-template/blob/master/.copier/update_dotenv.py)ï¼Œè¯¥è„šæœ¬ä¼šæ›´æ–°æ‚¨çš„ `.env` æ–‡ä»¶ã€‚

### è¾“å…¥å˜é‡

ç”Ÿæˆé¡¹ç›®å‰ï¼Œæ‚¨å¯èƒ½éœ€è¦å‡†å¤‡å¥½ä»¥ä¸‹æ•°æ®ä»¥ä¾¿ Copier è¿›è¡ŒæŸ¥è¯¢ã€‚

ä½†æ— éœ€æ‹…å¿ƒï¼Œåç»­æ‚¨å¯éšæ—¶åœ¨ `.env` æ–‡ä»¶ä¸­æ›´æ–°è¿™äº›ä¿¡æ¯ã€‚

è¾“å…¥å˜é‡åŠå…¶é»˜è®¤å€¼ï¼ˆéƒ¨åˆ†è‡ªåŠ¨ç”Ÿæˆï¼‰å¦‚ä¸‹ï¼š

- `project_name`ï¼šï¼ˆé»˜è®¤å€¼ï¼š`â€œFastAPI Projectâ€`ï¼‰é¡¹ç›®åç§°ï¼Œå°†å±•ç¤ºç»™ API ç”¨æˆ·ï¼ˆå­˜å‚¨äº .env æ–‡ä»¶ï¼‰ã€‚
- `stack_name`ï¼šï¼ˆé»˜è®¤å€¼ï¼š`â€œfastapi-projectâ€`ï¼‰ç”¨äº Docker Compose æ ‡ç­¾å’Œé¡¹ç›®åç§°çš„å †æ ˆåç§°ï¼ˆç¦æ­¢ä½¿ç”¨ç©ºæ ¼å’Œå¥ç‚¹ï¼‰ï¼ˆå­˜å‚¨äº .env æ–‡ä»¶ï¼‰ã€‚
- `secret_key`ï¼šï¼ˆé»˜è®¤å€¼ï¼š`â€œchangethisâ€`ï¼‰é¡¹ç›®å®‰å…¨å¯†é’¥ï¼Œå­˜å‚¨äº.envæ–‡ä»¶ä¸­ï¼Œå¯é€šè¿‡ä¸Šè¿°æ–¹æ³•ç”Ÿæˆã€‚
- `first_superuser`ï¼šï¼ˆé»˜è®¤å€¼ï¼š`â€œadmin@example.comâ€`ï¼‰é¦–ä¸ªè¶…çº§ç”¨æˆ·çš„é‚®ç®±åœ°å€ï¼ˆå­˜å‚¨äº.envæ–‡ä»¶ï¼‰ã€‚
- `first_superuser_password`ï¼šï¼ˆé»˜è®¤å€¼ï¼š`â€œchangethisâ€`ï¼‰é¦–ä¸ªè¶…çº§ç”¨æˆ·çš„å¯†ç ï¼ˆå­˜å‚¨äº .env æ–‡ä»¶ä¸­ï¼‰ã€‚
- `smtp_host`ï¼šï¼ˆé»˜è®¤å€¼ï¼šâ€œâ€ï¼‰ç”¨äºå‘é€é‚®ä»¶çš„ SMTP æœåŠ¡å™¨ä¸»æœºï¼Œå¯åœ¨ .env æ–‡ä»¶ä¸­åç»­è®¾ç½®ã€‚
- `smtp_user`ï¼šï¼ˆé»˜è®¤å€¼ï¼šâ€œâ€ï¼‰ ç”¨äºå‘é€é‚®ä»¶çš„SMTPæœåŠ¡å™¨ç”¨æˆ·åï¼Œå¯åœ¨.envä¸­åç»­é…ç½®ã€‚
- `smtp_password`: (é»˜è®¤: â€œâ€) ç”¨äºå‘é€é‚®ä»¶çš„SMTPæœåŠ¡å™¨å¯†ç ï¼Œå¯åœ¨.envä¸­åç»­é…ç½®ã€‚
- `emails_from_email`: (é»˜è®¤: `â€œinfo@example.comâ€`) å‘é€é‚®ä»¶çš„é‚®ç®±è´¦æˆ·ï¼Œå¯åœ¨.envä¸­åç»­é…ç½®ã€‚
- `postgres_password`: (é»˜è®¤: `â€œchangethisâ€`) PostgreSQL æ•°æ®åº“å¯†ç ï¼Œå­˜å‚¨äº .env ä¸­ï¼Œå¯é€šè¿‡ä¸Šè¿°æ–¹æ³•ç”Ÿæˆã€‚
- `sentry_dsn`: (é»˜è®¤: â€œâ€) Sentry çš„ DSNï¼Œè‹¥éœ€ä½¿ç”¨å¯ç¨ååœ¨ .env ä¸­è®¾ç½®ã€‚

## åç«¯å¼€å‘

åç«¯æ–‡æ¡£ï¼š[backend/README.md](./backend/README.md)ã€‚

## å‰ç«¯å¼€å‘

å‰ç«¯æ–‡æ¡£ï¼š[frontend/README.md](./frontend/README.md)ã€‚

## éƒ¨ç½²

éƒ¨ç½²æ–‡æ¡£ï¼š[deployment.md](./deployment.md)ã€‚

## å¼€å‘æŒ‡å—

é€šç”¨å¼€å‘æ–‡æ¡£ï¼š[development.md](./development.md)ã€‚

æ¶µç›– Docker Compose ä½¿ç”¨ã€è‡ªå®šä¹‰æœ¬åœ°åŸŸåã€`.env` é…ç½®ç­‰å†…å®¹ã€‚

## ç‰ˆæœ¬è¯´æ˜

è¯·æŸ¥é˜…æ–‡ä»¶ [release-notes.md](./release-notes.md)ã€‚

## è®¸å¯åè®®

æœ¬å…¨æ ˆ FastAPI æ¨¡æ¿éµå¾ª MIT è®¸å¯åè®®æ¡æ¬¾ã€‚
